<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Tutorfair - analysing and visualising internal company data">
    <meta name="author" content="Chris J. Davie">
    
    <title>Speechmatics - speech recognition in multiple languages</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/3-col-portfolio.css" rel="stylesheet">
    
    <link href="css/style_not_gh_pages.css" rel="stylesheet">



<!--    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">-->
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Home</a>
                <a class="navbar-brand" href="portfolio.html">Portfolio</a>
                <a class="navbar-brand" href="testimonials.html">Testimonials</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="about.html">About</a>
                    </li>
                    <!--<li>-->
                    <!--    <a href="#">Services</a>-->
                    <!--</li>-->
                    <!--<li>-->
                    <!--    <a href="#">Contact</a>-->
                    <!--</li>-->
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Content -->
    <div class="container">

        <!-- Page Header -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Speechmatics
                    <small>Speech recognition in multiple languages</small>
                </h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Projects Row -->
        <div class="row">
            <div class="col-lg-7">  
                 <p>I work at <a href="https://www.speechmatics.com/"><i>Speechmatics</i></a>, a provider of automatic speech recognition, automating the building of ASR systems in multiple languages. I rework legacy and proof of concept code into reliable, scaleable and maintainable software.</p>
                <p><i>Skills employed:  Software design, data pipelines, web scraping, databases, PostgreSQL, Python (scrapy, numpy, scipy), project design, Linux</i></p>
<iframe width="900" height="500" frameborder="0" scrolling="no" src="https://plot.ly/~cjdavie/0.embed"></iframe>
                 <p><i>The global language coverage by Speechmatics, as of July 2016.</i></p>
                 <h1>Speechmatics</h1>
                 <p><i>Speechmatics</i> provides accurate cloud-based automatic speech recognition (ASR) with a per-hour pricing, and also provides on-premises solutions. 
                 
                 <h1>Challenge</h1>
                 <p><i>Speechmatics</i> had a largely manual process for building ASR systems, using their state-of-the-art deep neural net technologies. This manual process worked in English and German, and they had ambitions for automatically building ASR systems for as many world languages as they have data for. While the concept for building these new languages had been proven with German, the system needed to be automated, and made robust, reproducible and scaleable to 10s of languages.</p>

                <p>This has been a year long project as <i>Speechmatics</i> has over a decadesâ€™ worth of legacy code in multiple languages; mainly Bash, but also Perl and Python. This was in many layers, at worst 13 layers of very tightly coupled code. The data and code were stored in an ad-hoc fashion, in multiple locations that the developers had mostly memorised. The build environment was also not reproducible, having evolved over time with developers installing packages when they felt they needed them.</p>


                <h1>Solution</h1>
                <p>The process for solving this had to be carefully planned as the code base was very fragile and the pipeline had to work as soon as possible and continue to produce models throughout development. After understand the process and gathering the requirements, we began a process of building the solution, broadly in four parts.</p>

                <p><b><a href="speechmatics/prototype.html">The pipeline prototype.</a></b> The first stage was building the initial prototype, the earliest version of the pipeline that would allow a semi-automatic building of speech models. This involved a series of interfaces around the filesystem and existing code base.</p>
                <p><b><a href="speechmatics/development.html">Development best practices.</a></b> <i>Speechmatics</i> used to be an R&D company and as such had not used development best practices. We introduced these, including modular code, specifications gathering, code design, testing, continuous integration and code review.</p>
                <p><b><a href="speechmatics/data.html">Data storage solution.</a></b> The data had previously been stored in a rather ad-hoc fashion. We sanitised the data storage system, introduced a database and set up an datastore system and ORM to allow easy transition between the filesystem and database.</p>
                <p><b><a href="speechmatics/pipeline.html">The processing pipeline.</a></b> This was two stages; initially a simple conversion of the prototype to the Luigi batch processing framework, and then reworking the underlying Machine Learning libraries.</p>


                <h1>Results</h1>
                <p>This batch processing framework has now produced over 20 languages, 4 of which are near the quality of our flagship English mode. The German model produced by the framework increased the accuracy of results from 30% to nearly 75%. The model building process used to take 3 months of manual work for each language and now only takes 2 weeks and is nearly fully automatic once initialised, a process that takes around twenty minutes.</p>

                <h1>Limitations</h1>
                <p>The process is not yet automatic as a language build normally requires a developer to intervene once a week, usually a short restart process. This is mainly due to the unreliability of the underpinning hardware. We are in the process of migrating this to the cloud. The pipeline now runs entirely in docker containers and will soon run on the Kubernetes orchestration system. Once that is achieved the transition to a cloud provider should be straight forwards. This will remove approximately 75% of the remaining failures in the pipeline, the rest being in more legacy code that has not yet been reworked.</p>

                <p>Beyond that, a sensible process for orchestrating the scrapers will be introduced. The legacy system is very ad-hoc and many of the scrapers are not working. I have designed and implemented a proof-of-concept for an ETL pipeline for scraping and have designed a system for testing the scrapers to ensure they are easy to repair when they break.</p>

                <p>This will move the system very much closer to an automatic model building solution.</p>

            </div>
        </div>
    
        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; Chris J Davie, 2017</p>
                </div>
            </div>
            <!-- /.row -->
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</body>

</html>


